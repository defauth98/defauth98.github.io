import { BasicMetaSysProps, DefaultElements, GetSpaceEnvironmentParams, GetWorkflowDefinitionParams, Link, MakeRequest, SysLink } from '../common-types';
import { ActionType } from './role';
export declare type WorkflowDefinitionSysProps = Pick<BasicMetaSysProps, 'id' | 'version' | 'createdAt' | 'createdBy' | 'updatedAt' | 'updatedBy'> & {
    type: 'WorkflowDefinition';
    space: SysLink;
    environment: SysLink;
};
declare type ValidationLink = {
    type: 'Link';
    validations: [
        {
            linkContentType: string[];
        }
    ];
    linkType: 'Entry';
};
declare type WorkflowStepProps = {
    id: string;
    name: string;
    description?: string;
    actions?: Array<{
        action: Link<'AppAction'>;
        body: string;
        headers: Record<string, unknown>;
    }>;
    annotations?: string[];
};
declare type CreateWorkflowStepProps = Omit<WorkflowStepProps, 'sys'>;
declare type Permission = {
    effect: string;
    action: ActionType | 'all';
    actor: Link<'User' | 'Team'>;
};
export declare type WorkflowDefinitionProps = {
    sys: WorkflowDefinitionSysProps;
    name: string;
    description: string;
    applicableEntities: ValidationLink[];
    steps: WorkflowStepProps[];
    permissions: Permission[];
};
export declare type CreateWorkflowDefinitionProps = Omit<WorkflowDefinitionProps, 'sys' | 'steps'> & {
    steps: CreateWorkflowStepProps[];
};
export declare type UpdateWorkflowDefinitionProps = Omit<WorkflowDefinitionProps, 'sys' | 'steps'> & {
    sys: Pick<WorkflowDefinitionSysProps, 'version'>;
    steps: Array<CreateWorkflowStepProps | WorkflowStepProps>;
};
export declare type CreateWorkflowDefinitionParams = GetSpaceEnvironmentParams;
export declare type UpdateWorkflowDefinitionParams = GetWorkflowDefinitionParams;
export declare type DeleteWorkflowDefinitionParams = GetWorkflowDefinitionParams & {
    version: number;
};
declare type WorkflowDefinitionApi = {
    update(): Promise<WorkflowDefinition>;
    delete(): Promise<void>;
};
export interface WorkflowDefinition extends WorkflowDefinitionProps, DefaultElements<WorkflowDefinitionProps>, WorkflowDefinitionApi {
}
/**
 * @private
 */
export default function createWorkflowDefinitionApi(makeRequest: MakeRequest): WorkflowDefinitionApi;
/**
 * @private
 */
export declare function wrapWorkflowDefinition(makeRequest: MakeRequest, data: WorkflowDefinitionProps): WorkflowDefinition;
/**
 * @private
 */
export declare const wrapWorkflowDefinitionCollection: (makeRequest: MakeRequest, data: import("../common-types").CollectionProp<WorkflowDefinitionProps>) => import("../common-types").Collection<WorkflowDefinition, WorkflowDefinitionProps>;
export {};
